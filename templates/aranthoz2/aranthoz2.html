<form class="flexcol {{cssClass}}"  autocomplete="off">
    <container class="main-container">

        {{!-- Sheet Banner Container --}}
        <div class="banner-container">
            <aside class="sheet-banner">
                <div class="banner-body">
                    <div class="banner-logo-container">
                        <section class="banner-logo">
                            <input name="name" id="input" class="logo-name" onkeyup="myFunction()" value="{{data.name}}">
                        </section>
                    </div>
                    <div class="banner-tiles-container">
                        <div class ="banner-tiles">
                            <section class="banner-tile health">
                                <div class="banner-tile-content hp ">
                                    <input class="banner-tile-content-value" name="system.health.value" value="{{systemData.health.value}}">
                                    <div class="banner-tile-content-label">HP</div>
                                </div>
                                <div class="banner-tile-content max-hp">
                                    <input class="banner-tile-content-value" name="system.health.max" value="{{systemData.health.max}}">
                                    <div class="banner-tile-content-label">Max-HP</div>
                                </div>
                            </section>
                            <section class="banner-tile defenses">
                                <div class="banner-tile-content armor">
                                    <input class="banner-tile-content-value" value="17.5">
                                    <div class="banner-tile-content-label">Armor</div>
                                </div>
                                <div class="banner-tile-content shield">
                                    <input class="banner-tile-content-value" value ="0">
                                    <div class="banner-tile-content-label">Shield</div>
                                </div>
                            </section>
                            <section class="banner-tile ressources">
                                <div class="banner-tile-content mana">
                                    <input class="banner-tile-content-value" name="system.power.value" value="{{systemData.power.value}}">
                                    <div class="banner-tile-content-label">{{#if isMage}}Mana{{else}}Stamina{{/if}}</div>
                                </div>
                                <div class="banner-tile-content stamina">
                                    <input class="banner-tile-content-value" name="system.power.max" value="{{systemData.power.max}}">
                                    <div class="banner-tile-content-label">Max-{{#if isMage}}Mana{{else}}Stamina{{/if}}</div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        {{!-- Sheet Main Container --}}
        <div class="sheet-main">

            {{!-- Sheet Tab Navigation --}}
            <nav class="body-nav tabs borderimg" data-group="primary">
                <a class="nav-link" data-tab="character">Character</a>
                <a class="nav-link" data-tab="attributes">Attributes</a>
                <a class="nav-link" data-tab="skills">Skills</a>
                <a class="nav-link" data-tab="armory">Armory</a> 
                <a class="nav-link" data-tab="inventory">Inventory</a>
            </nav> 

            {{!-- Sheet Body --}}
            <section class="sheet-body">

                {{!-- Character Tab --}}
                <section class="tab character" data-group="primary" data-tab="character">
                    <div class="content-container">
                        <div class="content">
                            <div class="portrait-column">
                                <img class="profile-img character-portait" src="{{data.img}}" data-edit="img" title="{{data.name}}" height="210" width="210"/>
                            </div>
                            <div class="heritage-column">
                                <div class="gender">
                                    <div class="character-label">Geschlecht</div>
                                    <input class="basic-input gender-value" name="system.identityAttributes.gender"  value="{{data.system.identityAttributes.gender}}">
                                </div>
                                <div class="background">
                                    <div class="character-label">Hintergrund</div>
                                    <input class="basic-input gender-value" name="system.identityAttributes.background"  value="{{data.system.identityAttributes.background}}">
                                </div>
                                <div class="origin">                                    
                                    <div class="character-label">Herkunft{{system.identityAttributes.origin}}</div>
                                    <select class="basic-select" name="system.identityAttributes.origin">
                                        <option value="myhriad"{{#if origin.isMyhriad}} selected {{/if}}>Myhriad</option>
                                        <option value="dunvia"{{#if origin.isDunvia}} selected {{/if}}>Dunvia</option>
                                        <option value="dunrodia"{{#if origin.isDunrodia}} selected {{/if}}>Dunrodia</option>
                                        <option value="venicria"{{#if origin.isVenicria}} selected {{/if}}>Venicria</option>
                                        <option value="thyrgrad"{{#if origin.isThyrgrad}} selected {{/if}}>Thyrgrad</option>
                                        <option value="salir"{{#if origin.isSalir}} selected {{/if}}>Sali'R</option>
                                        <option value="lorthing"{{#if origin.isLorthing}} selected {{/if}}>Lorthing</option>
                                        <option value="rhykva"{{#if origin.isRhykva}} selected {{/if}}>Rhykva</option>
                                    </select>
                                </div>
                            </div>
                            <div class="physical-column">
                                <div class="origin">
                                    <div class="character-label">Alter</div>
                                    <input class="basic-input" name="system.identityAttributes.age"  value="{{data.system.identityAttributes.age}}">
                                </div>
                                <div class="gender">
                                    <div class="character-label">Statur</div>
                                    <input class="basic-input" name="system.identityAttributes.build"  value="{{data.system.identityAttributes.build}}">
                                </div>
                                <div class="background">
                                    <div class="character-label">Fähigkeit</div>
                                    <select class="basic-select" name="system.identityAttributes.ressource">
                                        <option value="mana"{{#if isMage}} selected {{/if}}>Magiekundiger</option>
                                        <option value="stamina"{{#if isFighter}} selected {{/if}}>Kämpfer</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="content">
                        <div class="div-divider"></div>
                    </div>
                    <div class="content">
                        <div class="description">
                            <h2>Character Description</h2>
                            {{editor biographyHTML target="system.biography" button=true editable=editable engine="prosemirror"}}
                        </div>
                    </div>                
                </section>

                {{!-- Attributes Tab --}}
                <section class="tab skills"  data-group="primary" data-tab="attributes">
                    <div class="content-container">

                        {{!-- Attributes Tables --}}
                        <div class="skillgroup-tables">
                            {{!-- Attributes Tables Header --}}
                            <div class="tables-header borderimg">
                                <div class="tables-header-label">Name</div>
                                <div class="tables-header-label">Value</div>
                                <div class="tables-header-label">Key</div>
                            </div>

                            {{!-- Attributes groups --}}
                            {{#each systemData.groups as |group groupKey|}}                            
                            <div class="skillgroup-table" skillgroup="{{groupKey}}">                               

                                {{!-- Skill Group Table Header --}}
                                <div class="skillgroup-table-header borderimg-ne">
                                    <div class="table-header-controls"><a class="skill-control" data-action="create" data-group="{{groupKey}}"><i class="material-symbols-outlined">add</i></a></div>
                                    <div class="table-header-label" name="system.groups.{{groupKey}}.label" value="{{group.label}}">{{group.label}}</div>
                                    <div class="table-header-label"></div>
                                </div>

                                {{!-- Attributes --}}
                                <ul class="skillgroup-table-rows">                                    
                                    {{#each group.attributes as |attr key|}}
                                    <li class="skillgroup-table-row" data-attribute="{{attr.group}}.{{key}}">
                                        <div class="skillgroup-table-entry">
                                            <!-- <a class="attribute-roll" data-key="{{key}}" data-group="{{attr.group}}" data-label="{{attr.label}}" data-value="{{attr.value}}"><i class="fas fa-dice-d20"></i></a> -->
                                            <!-- <a>hi</a> -->
                                            <!-- <a> -->
                                            <a class="skill-roll" data-rolltype="skill" data-actorid="{{../../data._id}}" data-key="{{key}}" data-group="{{attr.group}}" data-label="{{attr.label}}" data-value="{{attr.value}}" style="width: 22px; height: 22px; margin-right: 10px; display: flex; justify-content: center; align-items: center;">
                                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 19 19">
                                                    <path fill-rule="evenodd" fill="rgb(88, 13, 4)" d="M3.826,8.060 L0.124,13.540 C0.016,13.716 0.127,13.944 0.332,13.967 L7.637,14.743 L3.826,8.060 L3.826,8.060 ZM0.341,11.589 L2.983,7.288 L0.294,5.672 C0.200,5.615 0.081,5.683 0.081,5.792 L0.081,11.515 C0.081,11.657 0.267,11.710 0.341,11.589 ZM0.722,15.391 L7.541,18.472 C7.727,18.559 7.939,18.422 7.939,18.217 L7.939,15.909 L0.799,15.125 C0.643,15.107 0.580,15.321 0.722,15.391 L0.722,15.391 ZM3.571,6.330 L6.375,1.305 C6.527,1.057 6.249,0.769 5.996,0.913 L0.706,4.380 C0.620,4.437 0.622,4.565 0.711,4.618 L3.571,6.330 L3.571,6.330 ZM8.500,6.687 L12.331,6.687 L8.978,0.769 C8.869,0.590 8.684,0.501 8.500,0.501 C8.316,0.501 8.132,0.590 8.022,0.769 L4.669,6.687 L8.500,6.687 ZM16.707,5.672 L14.018,7.288 L16.659,11.589 C16.733,11.710 16.919,11.657 16.919,11.515 L16.919,5.792 C16.919,5.683 16.800,5.615 16.707,5.672 ZM13.430,6.330 L16.290,4.618 C16.379,4.564 16.381,4.436 16.294,4.379 L11.004,0.913 C10.752,0.769 10.474,1.057 10.626,1.305 L13.430,6.330 ZM16.202,15.125 L9.062,15.908 L9.062,18.217 C9.062,18.422 9.274,18.558 9.460,18.472 L16.279,15.391 C16.420,15.321 16.358,15.107 16.202,15.125 L16.202,15.125 ZM13.175,8.060 L9.364,14.743 L16.669,13.967 C16.874,13.944 16.986,13.716 16.877,13.540 L13.175,8.060 L13.175,8.060 ZM8.500,7.812 L4.977,7.812 L8.500,13.990 L12.023,7.812 L8.500,7.812 Z"></path>
                                                </svg>
                                            </a>
                                            <input class="skillgroup-table-entry inline-input" name="system.attributes.{{attr.group}}.{{key}}.label" value="{{attr.label}}">
                                        </div>
                                        <input class="skillgroup-table-entry basic-input" name="system.attributes.{{attr.group}}.{{key}}.value" value="{{attr.value}}">
                                        <div class="skillgroup-table-entry">
                                            <input class="skillgroup-table-entry basic-input" name="system.attributes.{{attr.group}}.{{key}}.key" value="{{key}}">
                                            <a class="skill-control" data-action="delete"><i class="material-symbols-outlined" style="margin-left: 10px;">delete</i></a>
                                        </div>
                                        <input type="hidden" name="system.attributes.{{#if attr.group}}{{attr.group}}.{{/if}}{{key}}.group" value="{{attr.group}}" />
                                        <input type="hidden" name="system.attributes.{{#if attr.group}}{{attr.group}}.{{/if}}{{key}}.dtype" value="{{attr.dtype}}" />                               
                                    </li>
                                    {{/each}}
                                </ul>

                                <input type="hidden" name="system.groups.{{groupKey}}.key" value="{{groupKey}}" />
                                <input type="hidden" name="system.groups.{{groupKey}}.label" value="{{group.label}}" />
                            </div>
                            {{/each}}
                        </div>
                    </div>
                </section>

                {{!-- Skills Tab --}}
                <section class="tab actions" data-group="primary" data-tab="skills">
                    <div class="content-container">
                        <ul class="item-list">
                            {{!-- Render all skills --}}
                            {{#each data.items as |item id|}}
                            {{#if item.isSkill}}
                            <li class ="item" data-item-id="{{item._id}}">
                                <a class="action-roll" data-rolltype="action" data-name="{{item.name}}" data-itemid="{{item._id}}" data-type="{{item.type}}" data-actorid="{{../data._id}}" style="width: 22px; height: 22px; margin-right: 10px; display: flex; justify-content: center; align-items: center;">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 19 19">
                                        <path fill-rule="evenodd" fill="rgb(88, 13, 4)" d="M3.826,8.060 L0.124,13.540 C0.016,13.716 0.127,13.944 0.332,13.967 L7.637,14.743 L3.826,8.060 L3.826,8.060 ZM0.341,11.589 L2.983,7.288 L0.294,5.672 C0.200,5.615 0.081,5.683 0.081,5.792 L0.081,11.515 C0.081,11.657 0.267,11.710 0.341,11.589 ZM0.722,15.391 L7.541,18.472 C7.727,18.559 7.939,18.422 7.939,18.217 L7.939,15.909 L0.799,15.125 C0.643,15.107 0.580,15.321 0.722,15.391 L0.722,15.391 ZM3.571,6.330 L6.375,1.305 C6.527,1.057 6.249,0.769 5.996,0.913 L0.706,4.380 C0.620,4.437 0.622,4.565 0.711,4.618 L3.571,6.330 L3.571,6.330 ZM8.500,6.687 L12.331,6.687 L8.978,0.769 C8.869,0.590 8.684,0.501 8.500,0.501 C8.316,0.501 8.132,0.590 8.022,0.769 L4.669,6.687 L8.500,6.687 ZM16.707,5.672 L14.018,7.288 L16.659,11.589 C16.733,11.710 16.919,11.657 16.919,11.515 L16.919,5.792 C16.919,5.683 16.800,5.615 16.707,5.672 ZM13.430,6.330 L16.290,4.618 C16.379,4.564 16.381,4.436 16.294,4.379 L11.004,0.913 C10.752,0.769 10.474,1.057 10.626,1.305 L13.430,6.330 ZM16.202,15.125 L9.062,15.908 L9.062,18.217 C9.062,18.422 9.274,18.558 9.460,18.472 L16.279,15.391 C16.420,15.321 16.358,15.107 16.202,15.125 L16.202,15.125 ZM13.175,8.060 L9.364,14.743 L16.669,13.967 C16.874,13.944 16.986,13.716 16.877,13.540 L13.175,8.060 L13.175,8.060 ZM8.500,7.812 L4.977,7.812 L8.500,13.990 L12.023,7.812 L8.500,7.812 Z"></path>
                                    </svg>
                                </a>
                                <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}</p>
                                <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                            </li>
                            {{/if}}
                            {{/each}}
                        </ul>
                        <a class="itemAddButton item-control borderimg-ne" data-action="create" item-type="skill"><span class="material-symbols-outlined">add</span></a>                       
                    </div>
                </section>

                {{!-- Armory Tab --}}
                <section class="tab weapons" data-group="primary" data-tab="armory">
                    {{!-- Weapons --}}
                    <div class="skillgroup-table-header borderimg-ne">
                        <div class="table-header-controls"><a class="add item-control" data-action="create" item-type="weapon"><i class="material-symbols-outlined">add</i></a></div>
                        <div class="table-header-label">Weapons</div>
                        <div class="table-header-label"></div>
                    </div>
                    
                    <div class="content-container">
                        <ul class="item-list">

                            {{!-- Render all Weapons --}}
                            {{#each data.items as |item id|}}
                            {{#if item.isWeapon}}
                            <li class ="item" data-item-id="{{item._id}}">
                                <a class="weapon-roll" data-rolltype="weapon" data-name="{{item.name}}" data-itemid="{{item._id}}" data-type="{{item.type}}" data-actorid="{{../data._id}}" style="width: 22px; height: 22px; margin-right: 10px; display: flex; justify-content: center; align-items: center;">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 19 19">
                                        <path fill-rule="evenodd" fill="rgb(88, 13, 4)" d="M3.826,8.060 L0.124,13.540 C0.016,13.716 0.127,13.944 0.332,13.967 L7.637,14.743 L3.826,8.060 L3.826,8.060 ZM0.341,11.589 L2.983,7.288 L0.294,5.672 C0.200,5.615 0.081,5.683 0.081,5.792 L0.081,11.515 C0.081,11.657 0.267,11.710 0.341,11.589 ZM0.722,15.391 L7.541,18.472 C7.727,18.559 7.939,18.422 7.939,18.217 L7.939,15.909 L0.799,15.125 C0.643,15.107 0.580,15.321 0.722,15.391 L0.722,15.391 ZM3.571,6.330 L6.375,1.305 C6.527,1.057 6.249,0.769 5.996,0.913 L0.706,4.380 C0.620,4.437 0.622,4.565 0.711,4.618 L3.571,6.330 L3.571,6.330 ZM8.500,6.687 L12.331,6.687 L8.978,0.769 C8.869,0.590 8.684,0.501 8.500,0.501 C8.316,0.501 8.132,0.590 8.022,0.769 L4.669,6.687 L8.500,6.687 ZM16.707,5.672 L14.018,7.288 L16.659,11.589 C16.733,11.710 16.919,11.657 16.919,11.515 L16.919,5.792 C16.919,5.683 16.800,5.615 16.707,5.672 ZM13.430,6.330 L16.290,4.618 C16.379,4.564 16.381,4.436 16.294,4.379 L11.004,0.913 C10.752,0.769 10.474,1.057 10.626,1.305 L13.430,6.330 ZM16.202,15.125 L9.062,15.908 L9.062,18.217 C9.062,18.422 9.274,18.558 9.460,18.472 L16.279,15.391 C16.420,15.321 16.358,15.107 16.202,15.125 L16.202,15.125 ZM13.175,8.060 L9.364,14.743 L16.669,13.967 C16.874,13.944 16.986,13.716 16.877,13.540 L13.175,8.060 L13.175,8.060 ZM8.500,7.812 L4.977,7.812 L8.500,13.990 L12.023,7.812 L8.500,7.812 Z"></path>
                                    </svg>
                                </a>
                                <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}</p>
                                <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                            </li>
                            {{/if}}
                            {{/each}}
                            
                        </ul>
                    </div>

                    {{!-- Armor --}}
                    <div class="skillgroup-table-header borderimg-ne">
                        <div class="table-header-controls"><a class="add item-control" data-action="create" item-type="armor"><i class="material-symbols-outlined">add</i></a></div>
                        <div class="table-header-label">Armor</div>
                        <div class="table-header-label"></div>
                    </div>
                    
                    <div class="content-container">
                        <ul class="item-list">

                            {{!-- Render all Armor --}}
                            {{#each data.items as |item id|}}
                            {{#if item.isArmor}}
                            <li class ="item" data-item-id="{{item._id}}">
                                <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}</p>
                                <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                            </li>
                            {{/if}}
                            {{/each}}
                            
                        </ul>
                    </div>
                </section>

                {{!-- Inventory Tab --}}
                <section class="tab inventory" data-group="primary" data-tab="inventory">
                    <div class="content-container">
                        {{#each itemClasses as |itemClass key|}}
                            {{itemClass.tabName}}
                        {{/each}}
                        <ul class="item-list">
                            {{!-- Render all inventory items --}}
                            {{#each data.items as |item id|}}
                            {{#if item.isMisc}}
                            <li class ="item" data-item-id="{{item._id}}">
                                <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}{{item.isOfClassDocument}}{{item.isOfClassIngredient}}</p>
                                <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                            </li>
                            {{/if}}
                            {{/each}}
                            {{!-- Sample Stackable Item --}}                       
                            <!-- <li class ="item">                                    
                                <a class="material-symbols-outlined" style="margin-right: 10px;">create</a>
                                <div class="item-count">
                                    <a class="item-count-update" type="decr">-</a>
                                    <input class="item-count-value" value="2">
                                    <a class="item-count-update" type="incr">+</a>
                                </div>                                    
                                <input class="weapon-info" value="Pfeile">
                                <a class="material-symbols-outlined" style="margin-left: 10px;">delete</a>
                            </li> -->
                        </ul>        
                        <nav class="misc-nav tabs borderimg-ne" data-group="misc">

                        {{#each itemClasses as |itemClass key|}}
                            <a class="nav-link" data-tab="{{itemClass.key}}">{{itemClass.tabName}}</a>
                        {{/each}}
                        </nav>
                        <section class = "misc-content">

                            {{#each itemClasses as |itemClass key|}}
                            <section class="tab {{itemClass.key}}s" data-group="misc" data-tab="{{itemClass.key}}s">
                                hello
                                {{#each data.items as |item id|}}
                                {{#if item.isMisc}}
                                {{#if item.isOfClass.[key]}}
                                <li class ="item" data-item-id="{{item._id}}">
                                    <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                    <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}</p>
                                    <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                                </li>
                                {{/if}}
                                {{/if}}
                                {{/each}}
                            </section>
                            {{/each}}
                            <!-- <section class ="tab ingredients" data-group="misc" data-tab="ingredients">
                                <div class="content-container">
                                <h3>ingredients</h3>
                                {{#each data.items as |item id|}}
                                {{#if item.isMisc}}
                                {{#if item.isOfClassIngredient}}
                                <li class ="item" data-item-id="{{item._id}}">
                                    <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                    <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}</p>
                                    <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                                </li>
                                {{/if}}
                                {{/if}}
                                {{/each}}

                                <a class="itemAddButton item-control borderimg-ne" data-action="create" item-type="misc" misc-item-class="ingredient"><span class="material-symbols-outlined">add</span></a>   
                                </div>
                            </section>
                            <section class ="tab documents" data-group="misc" data-tab="documents">
                                <h3>Documents Tab</h3>
                                {{#each data.items as |item id|}}
                                {{#if item.isMisc}}
                                {{#if item.isOfClassDocument}}
                                <li class ="item" data-item-id="{{item._id}}">
                                    <a class="item-control material-symbols-outlined" data-action="edit" style="margin-right: 10px;">create</a>
                                    <p class="weapon-info dragItem" data-item-id="{{item._id}}">{{item.name}}</p>
                                    <a class="item-control material-symbols-outlined" data-action="delete" style="margin-left: 10px;">delete</a>
                                </li>
                                {{/if}}
                                {{/if}}
                                {{/each}}

                                <a class="itemAddButton item-control borderimg-ne" data-action="create" item-type="misc" misc-item-class="document"><span class="material-symbols-outlined">add</span></a>   
                            </section> -->
                        </section>
                    </div>
                </section>
            </section>
        </div>
    </container>
</form>
<script type="text/javascript">
    // var x=document.getElementById("input");
    // if (!x.value.length <= 12) {
    //     x.style.fontSize= 43 - x.value.length + "px";
    // }       
    function myFunction(){
        var x=document.getElementById("input");
        if (x.value.length <= 12) {
            x.style.fontSize="34px"
            return
        }
        var initialSize=43-x.value.length;
        initialSize=initialSize<=10?10:initialSize;
        x.style.fontSize=initialSize + "px";
    }
    myFunction()
</script>
